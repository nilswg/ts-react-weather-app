(this["webpackJsonpts-react-weather-app"]=this["webpackJsonpts-react-weather-app"]||[]).push([[0],{27:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r,o,a,c,i=n(0),s=n.n(i),l=n(10),u=n.n(l),d=(n(27),n(3)),h=n(4),b=n(2),f=n(17),j=n(9),p=n(1),m=function(e){var t=e.checked,n=e.id,r=e.theme,o=Object(i.useState)(t),a=Object(j.a)(o,2),c=a[0],s=a[1];return Object(p.jsxs)(g,Object(f.a)(Object(f.a)({},r),{},{children:[Object(p.jsx)(v,{type:"checkbox",id:n||"",onClick:function(t){s(!c),e.onClick&&e.onClick({id:n,isChecked:c})}}),Object(p.jsx)(O,{checked:c})]}))},g=b.c.label(r||(r=Object(d.a)(["\n  --width: ",";\n  --height: calc(var(--width) / 2);\n  --radius: calc(var(--height) / 2);\n  --beforeColor: ",";\n  --afterColor: ",";\n  --ballColor: ",";\n  display: inline-block;\n  cursor: pointer;\n"])),(function(e){return e.width||"2rem"}),(function(e){return e.beforeColor||"#ddd"}),(function(e){return e.afterColor||"#34deeb"}),(function(e){return e.ballColor||"#fff"})),v=b.c.input(o||(o=Object(d.a)(["\n  display: none;\n"]))),O=b.c.div(a||(a=Object(d.a)(["\n  /* \u5e95\u8272 */\n  position: relative;\n  width: var(--width);\n  height: var(--height);\n  border-radius: var(--radius);\n  background: ",';\n  transition: background 0.2s;\n\n  /* \u7403\u7403\u8207\u9670\u5f71\u6548\u679c */\n  ::after {\n    /* \u900f\u904eafter\u5be6\u73fe\u4e86\u76f8\u5c0d\u5167\u90e8\u79fb\u52d5\u7684\u6548\u679c */\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: var(--height);\n    width: var(--height);\n    background: var(--ballColor);\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);\n    border-radius: var(--radius);\n    transform: ',";\n    transition: transform 0.5s;\n  }\n"])),(function(e){return e.checked?"var(--afterColor)":"var(--beforeColor)"}),(function(e){return e.checked?"translateX(110%)":"translateX(0%)"})),x=["title","titleId"];function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e,t){var n=e.title,r=e.titleId,o=C(e,x);return i.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,c||(c=i.createElement("path",{d:"M20,4A16.2,16.2,0,0,0,4,20.4,16.375,16.375,0,0,0,14.943,35.97c.8.15,1.094-.352,1.094-.79,0-.39-.016-1.42-.021-2.787-4.453.988-5.391-2.2-5.391-2.2a4.342,4.342,0,0,0-1.776-2.4c-1.453-1.014.109-.993.109-.993a3.37,3.37,0,0,1,2.448,1.687,3.362,3.362,0,0,0,4.656,1.367,3.564,3.564,0,0,1,1.016-2.195c-3.552-.411-7.286-1.821-7.286-8.106a6.448,6.448,0,0,1,1.646-4.405,6.057,6.057,0,0,1,.156-4.341s1.344-.438,4.4,1.682a14.859,14.859,0,0,1,8.01,0c3.057-2.12,4.4-1.682,4.4-1.682a6.009,6.009,0,0,1,.161,4.341A6.42,6.42,0,0,1,30.2,19.55c0,6.3-3.739,7.684-7.3,8.1a3.959,3.959,0,0,1,1.083,3.033c0,2.195-.016,3.962-.016,4.5,0,.438.286.95,1.1.79A16.378,16.378,0,0,0,36,20.4,16.2,16.2,0,0,0,20,4Z",transform:"translate(-4 -4)"})))}var y,_,N,E,F,A,M,S=i.forwardRef(k),I=(n.p,function(){return Object(p.jsx)(T,{href:"https://github.com/nilswg/ts-react-weather-app",children:Object(p.jsx)(S,{})})}),T=b.c.a(y||(y=Object(d.a)(["\n  margin-left: 1rem;\n  svg {\n    fill: ",";\n  }\n  &:hover svg {\n    fill: #20546a;\n  }\n"])),(function(e){return e.theme.appTitleColor})),D=function(){return Object(h.b)()},B=h.c,H=n(14),L=n(11),R={darkMode:JSON.parse(localStorage.getItem("dark_mode")),loading:!1,locations:[],weathers:[],weatherCityName:"",searchInput:""},W={setDarkMode:function(e){localStorage.setItem("dark_mode",(!e.darkMode).toString()),e.darkMode=!e.darkMode},setLoading:function(e,t){e.loading=t.payload},setLocations:function(e,t){e.locations=t.payload.locations},setWeathers:function(e,t){e.weathers=t.payload.weathers},setWeatherCityName:function(e,t){e.weatherCityName=t.payload}},G=Object(H.b)({name:"app",initialState:R,reducers:W}),z=G.actions,P=z.setDarkMode,J=z.setLoading,X=z.setLocations,q=z.setWeathers,Z=z.setWeatherCityName,$=G.reducer,K=function(e){return e.app.weathers},Q=Object(L.a)([K],(function(e){return e[0]})),U=function(){var e=D();return Object(p.jsxs)(V,{children:[Object(p.jsx)(Y,{children:"React Weather"}),Object(p.jsxs)(ee,{children:[Object(p.jsx)(m,{id:"darkmode-btn",checked:!1,onClick:function(){e(P())},theme:{beforeColor:"#34deeb",afterColor:"#235A84",width:"3rem"}}),Object(p.jsx)(I,{})]})]})},V=b.c.header(_||(_=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 8rem;\n"]))),Y=b.c.h1(N||(N=Object(d.a)(["\n  color: ",";\n  font-size: 2.2rem;\n"])),(function(e){return e.theme.appTitleColor})),ee=b.c.div(E||(E=Object(d.a)(["\n  display: flex;\n  align-items: center;\n"]))),te=n(22),ne=n(21);function re(){return Object(p.jsxs)(je,{children:[Object(te.a)(Array(20)).map((function(e,t){return Object(p.jsx)(pe,{index:t},"dot_".concat(t))})),Object(p.jsx)(me,{children:Object(p.jsx)(ne.a,{})})]})}var oe,ae,ce,ie,se,le,ue,de,he,be,fe,je=b.c.div(F||(F=Object(d.a)(["\n  --speed: 1;\n  --scale: 1;\n  --dotColor: #fff;\n  --rocketColor: #fff;\n\n  position: relative;\n  width: calc(120px * var(--scale));\n  height: calc(120px * var(--scale));\n  // background-color: brown;\n"]))),pe=b.c.div(A||(A=Object(d.a)(["\n  --i: ",';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  transform: rotate(calc(180deg + 18deg * var(--i)));\n\n  :before {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: calc(15px * var(--scale));\n    height: calc(15px * var(--scale));\n    background-color: var(--dotColor);\n    border-radius: 50%;\n    transform: scale(0);\n    animation: rocketFlying calc(2s / var(--speed)) linear infinite;\n    animation-delay: calc(0.1s / var(--speed) * var(--i));\n  }\n\n  @keyframes rocketFlying {\n    0% {\n      transform: scale(0);\n    }\n    10% {\n      transform: scale(1.2);\n    }\n    80%,\n    100% {\n      transform: scale(0);\n    }\n  }\n'])),(function(e){return e.index})),me=b.c.div(M||(M=Object(d.a)(["\n  /* background-color: brown; */\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  color: var(--rocketColor);\n  font-size: calc(50px * var(--scale));\n  animation: rotating calc(2s / var(--speed)) linear infinite;\n  animation-delay: calc(-1s / var(--speed));\n\n  svg {\n    transform: rotate(45deg);\n    position: relative;\n    top: calc(-15px * var(--scale));\n    left: calc(-15px * var(--scale));\n  }\n\n  @keyframes rotating {\n    0% {\n      transform: rotate(10deg);\n    }\n    100% {\n      transform: rotate(370deg);\n    }\n  }\n"]))),ge=(n(34),function(){return Object(p.jsx)("div",{className:"spinner-container",children:Object(p.jsx)(re,{})})}),ve=n(7),Oe=n.n(ve),xe=n(13),we=function(){var e=Object(xe.a)(Oe.a.mark((function e(t){var n,r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/search/?query=".concat(t),e.next=3,fetch(n,{method:"GET"});case 3:return e.next=5,e.sent.json();case 5:return r=e.sent,e.abrupt("return",r.slice(0,6));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=we,ke=function(){var e=Object(xe.a)(Oe.a.mark((function e(t){var n,r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/".concat(t),e.next=3,fetch(n,{method:"GET"});case 3:return e.next=5,e.sent.json();case 5:return r=e.sent,e.abrupt("return",r.consolidated_weather.slice(0,5));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=ke,_e=function(e){var t=e.id,n=e.cityName,r=e.hiddenSearchResult,o=D();return Object(p.jsx)("a",{id:t,onClick:function(){r(),o(Z(n)),o(J(!0)),ye(t).then((function(e){o(J(!1)),o(q({weathers:e}))}),(function(e){console.error(e)}))},children:n})},Ne=(n(36),function(){var e,t,n,r,o,a=Object(h.c)((function(e){return e.app.locations})),c=Object(i.useState)(""),s=Object(j.a)(c,2),l=s[0],u=s[1],d=Object(i.useState)(!1),b=Object(j.a)(d,2),f=b[0],m=b[1],g=Object(i.useRef)(null),v=Object(i.useRef)(null),O=D(),x=(e=g,t=200,n=u,function(r){null!==(null===e||void 0===e?void 0:e.current)&&clearTimeout(e.current);try{e.current=setTimeout((function(){var e=r.target.value||"";n.call(void 0,e)}),t)}catch(o){throw new Error("useDebouncedInput Error")}}),w=function(){return m(!1)};return r=v,o=w,Object(i.useEffect)((function(){var e=function(e){r.current&&!r.current.contains(e.target)&&o()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}})),Object(i.useEffect)((function(){l&&(m(!0),Ce(l).then((function(e){O(X({locations:e}))}),(function(e){O(X({locations:[]})),console.error(e)})))}),[O,l]),Object(p.jsxs)(Ee,{children:[Object(p.jsx)("input",{type:"text",className:"search-container-input",placeholder:"Type your location (\u0e51\u2022\u0300\u3142\u2022\u0301)\u0648\u2727 ",onChange:x}),f&&Object(p.jsx)("div",{className:"search-result",ref:v,children:null===a||void 0===a?void 0:a.map((function(e,t){var n=e.woeid,r=e.title,o=e.location_type,a="".concat(n);return Object(p.jsx)(_e,{id:a,cityName:"".concat(r," ").concat(o),hiddenSearchResult:w},a)}))})]})}),Ee=b.c.div(oe||(oe=Object(d.a)(["\n  --searchBgColor: ",";\n  --searchInputColor: ",";\n  --searchInputPlaceHolderColor: ",";\n  --resultBgColor:  ",";\n  --resultItemColor: ",";\n  --resultItemHoverBgColor: ",";\n  --seperatorColor: ",";\n  \n  position: relative; // search-result locate\n"])),(function(e){return e.theme.search.bgColor}),(function(e){return e.theme.search.input.color}),(function(e){return e.theme.search.input.placeHolderColor}),(function(e){return e.theme.search.result.bgColor}),(function(e){return e.theme.search.result.item.color}),(function(e){return e.theme.search.result.item.hoverBgColor}),(function(e){return e.theme.search.result.seperator.color})),Fe=new Map([["Snow","sn"],["Sleet","sl"],["Hail","h"],["Thunderstorm","t"],["Heavy Rain","hr"],["Light Rain","lr"],["Showers","s"],["Heavy Cloud","hc"],["Light Cloud","lc"],["Clear","c"]]),Ae=function(e){if(!Fe.has(e))throw Error("weather svg doesn't exit.");return"".concat("https://www.metaweather.com/static/img/weather/").concat(Fe.get(e),".svg")},Me=(n(37),function(){var e=B(K);return e.length?Object(p.jsxs)(Se,{children:[Object(p.jsx)("h1",{className:"forecast-container-title",children:"Following 5 Days Forecast"}),Object(p.jsx)("div",{className:"forecast-context",children:null===e||void 0===e?void 0:e.map((function(e){return Object(p.jsxs)("div",{className:"forecast-item",children:[Object(p.jsx)("h3",{children:e.applicable_date}),Object(p.jsx)("img",{src:Ae(e.weather_state_name),alt:e.weather_state_name}),Object(p.jsx)("h3",{children:e.weather_state_name}),Object(p.jsxs)("div",{className:"forecast-last-item",children:[Object(p.jsx)("p",{children:"T:".concat(Math.trunc(e.max_temp),"\xb0/").concat(Math.trunc(e.min_temp),"\xb0")}),Object(p.jsx)("p",{children:"H: ".concat(e.humidity,"%")})]})]})}))})]}):Object(p.jsx)(i.Fragment,{})}),Se=b.c.div(ae||(ae=Object(d.a)(["\n  --forecastbgColor:",";\n  --forecastTitleColor:",";\n\n  width: 100%;\n  background-color: var(--forecastbgColor);\n  border-radius: 1rem;\n  padding: 1rem;\n  margin-top: 1rem;\n"])),(function(e){return e.theme.forecast.bgColor}),(function(e){return e.theme.forecast.title})),Ie=function(e){var t=e.min,n=t.distance,r=t.colors,o=e.max,a=o.distance,c=o.colors;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(Te,{children:[Object(p.jsxs)(De,{color:r[1],children:[n,"\xb0"]}),Object(p.jsx)(Be,{height:2*n,colors:r})]}),Object(p.jsxs)(Te,{children:[Object(p.jsx)(He,{height:2*a,colors:c}),Object(p.jsxs)(De,{color:c[1],children:[a,"\xb0"]})]})]})},Te=b.c.div(ce||(ce=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    background-color: var(--barChartbgColor);\n    margin-top: 5px;\n"]))),De=b.c.span(ie||(ie=Object(d.a)(["\n  padding: 0 5px;\n  font-size: 1.5rem;\n  text-align: center;\n  color: ",";\n"])),(function(e){return e.color})),Be=b.c.div(se||(se=Object(d.a)(["\n  width: ","px;\n  height: 1.5rem;\n  border-radius: 1rem 0 0 1rem;\n  background: linear-gradient(\n    to right,\n    ",",\n    ","\n  );\n  &:hover {\n    opacity: 0.8;\n  }\n  @media (max-width: 420px) {\n    width: 34px;\n  }\n"])),(function(e){return e.height}),(function(e){return e.colors[0]}),(function(e){return e.colors[1]})),He=b.c.div(le||(le=Object(d.a)(["\n  width: ","px;\n  height: 1.5rem;\n  border-radius: 0 1rem 1rem 0;\n  background: linear-gradient(\n    to left,\n    ",",\n    ","\n  );\n  &:hover {\n    opacity: 0.8;\n  }\n  @media (max-width: 420px) {\n    width: 34px;\n  }\n"])),(function(e){return e.height}),(function(e){return e.colors[0]}),(function(e){return e.colors[1]})),Le=function(e){return Object(p.jsxs)(Re,{children:[Object(p.jsx)(We,{value:e.value}),Object(p.jsxs)(Ge,{children:[e.value,"%"]})]})},Re=b.c.div(ue||(ue=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: none;\n  height: 12em;\n  width: 12em;\n"]))),We=b.c.div(de||(de=Object(d.a)(["\n  position: relative;\n  width: 10em;\n  height: 10em;\n  border-radius: 50%;\n  background: conic-gradient(\n    #3f87a6 ","%,\n    var(--pieChartbgColor) ",'%\n  );\n  transition: 1s ease-in-out;\n\n  ::before {\n    content: "";\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 8em;\n    height: 8em;\n    border-radius: 50%;\n    background-color: var(--pieChartbgColor);\n    transform: translate(-50%, -50%);\n    box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.6);\n  }\n'])),(function(e){return e.value}),(function(e){return 100-e.value})),Ge=b.c.h1(he||(he=Object(d.a)(["\n  position: absolute;\n  font-size: 2rem;\n  background-color: none;\n  color: rgb(123, 152, 178);\n  text-shadow: 0.1em 0.1em 0.2em rgba(0, 0, 0, 0.3);\n"]))),ze=(n(38),function(){var e=B(Q),t=B((function(e){return e.app.weatherCityName}));return e?Object(p.jsxs)(Pe,{children:[Object(p.jsx)("h1",{className:"weather-title",children:"Weather Today ".concat(e.applicable_date)}),Object(p.jsxs)("div",{className:"weather-content",children:[Object(p.jsxs)("div",{className:"weather-content-left",children:[Object(p.jsx)("h2",{children:t}),Object(p.jsxs)("div",{className:"weather-content-left-icon",children:[Object(p.jsx)("img",{src:Ae(e.weather_state_name),alt:e.weather_state_name}),Object(p.jsx)("h1",{children:"".concat(Math.trunc(e.the_temp),"\xb0")})]}),Object(p.jsx)("h2",{children:e.weather_state_name})]}),Object(p.jsxs)("div",{className:"weather-content-right",children:[Object(p.jsx)("p",{children:"Humidity"}),Object(p.jsx)(Le,{value:e.humidity}),Object(p.jsx)("p",{children:"Min / Max Temp"}),Object(p.jsx)("div",{className:"weather-content-right-barchart",children:Object(p.jsx)(Ie,{min:{distance:Math.trunc(e.min_temp),colors:["#add9c0","#4a6fa1"]},max:{distance:Math.trunc(e.max_temp),colors:["#ff47ab","#e0064e"]}})})]})]})]}):Object(p.jsx)(i.Fragment,{})}),Pe=b.c.div(be||(be=Object(d.a)(["\n  --weatherbgColor: ",";\n  --weatherTitleColor: ",";\n  --pieChartbgColor: ",";\n  --barChartbgColor: ",";\n  width: 100%;\n  height: 100%;\n  background-color: var(--weatherbgColor);\n  margin-top: 20px;\n  padding: 1rem;\n  border-radius: 1rem;\n"])),(function(e){return e.theme.weather.bgColor}),(function(e){return e.theme.weather.title}),(function(e){return e.theme.weather.pie.bgColor}),(function(e){return e.theme.weather.bars.bgColor})),Je=n.p+"static/media/bg.b68c273b.svg",Xe=n.p+"static/media/darkBg.60488de1.svg",qe={backgroundImage:Je,backgroundGradient:["#F9FFFF","#38C8E6"],appTitleColor:"#2F5D8A",search:{bgColor:"#ffffff",input:{color:"#727E8E",placeHolderColor:"#6898d5"},result:{bgColor:"#ffffff",item:{color:"#727E8E",hoverBgColor:"#f9f9f9"},seperator:{color:"#ccc"}}},weather:{bgColor:"#ffffff",title:"#2F5D8A",pie:{bgColor:"#ffffff"},bars:{bgColor:"#ffffff"}},forecast:{bgColor:"#ffffff",title:"#2F5D8A"}},Ze={backgroundImage:Xe,backgroundGradient:["#031027","#02101D"],appTitleColor:"#2F5D8A",search:{bgColor:"#051A33",input:{color:"#5f8bbf",placeHolderColor:"#235A84"},result:{bgColor:"#0f2744",item:{color:"#5f8bbf",hoverBgColor:"#183553"},seperator:{color:"#356097"}}},weather:{bgColor:"#051A33",title:"#2F5D8A",pie:{bgColor:"#051A33"},bars:{bgColor:"#051A33"}},forecast:{bgColor:"#051A33",title:"#2F5D8A"}};n(39);var $e=function(){var e=Object(h.c)((function(e){return e.app.darkMode})),t=Object(h.c)((function(e){return e.app.loading}));return Object(p.jsxs)(b.a,{theme:e?Ze:qe,children:[Object(p.jsx)(Ke,{}),t&&Object(p.jsx)(ge,{}),Object(p.jsx)(U,{}),Object(p.jsx)(Ne,{}),Object(p.jsx)(ze,{}),Object(p.jsx)(Me,{})]})},Ke=Object(b.b)(fe||(fe=Object(d.a)(["\n  body{\n    background: ",";\n  }\n"])),(function(e){var t=e.theme;return"url(".concat(t.backgroundImage,") no-repeat center 120%, \n       linear-gradient(").concat(t.backgroundGradient[0]," 0%, ").concat(t.backgroundGradient[1]," 100%)")})),Qe=Object(H.a)({reducer:{app:$}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(h.a,{store:Qe,children:Object(p.jsx)($e,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.91654805.chunk.js.map